---
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
import '../styles/global.css';
import data from '../data/business-data.json';

// 1. Accept 'description' as a prop from individual pages
const { title, description = data.meta?.description || "Professional services and solutions." } = Astro.props;

// Pull the theme object from JSON, or provide defaults as a fallback
const theme = data.theme || {
  primary: "#2563eb",
  primaryHover: "#1d4ed8",
  accent: "#eff6ff"
};
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href={`${import.meta.env.BASE_URL}/favicon.svg`} />
		
		<title>{title} | {data.businessName}</title>
		<meta name="description" content={description} />
		
		<meta property="og:title" content={`${title} | ${data.businessName}`} />
		<meta property="og:description" content={description} />
		<meta property="og:type" content="website" />

		<style define:vars={{ 
			'brand-primary': theme.primary, 
			'brand-hover': theme.primaryHover,
			'brand-accent': theme.accent 
		}}>
			/* These variables are now available globally in your project */
			:root {
				--brand-color: var(--brand-primary);
			}
		</style>
	</head>
	<body class="bg-white">
		<Navigation />
		<slot /> 
		<Footer />
	</body>
</html>